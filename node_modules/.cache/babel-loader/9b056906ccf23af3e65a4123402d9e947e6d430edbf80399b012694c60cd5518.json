{"ast":null,"code":"var _jsxFileName = \"/home/user/color-advisor/src/components/ColorAnalyzer.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport { Box, Typography, Paper, CircularProgress, IconButton, Alert } from '@mui/material';\nimport { useDropzone } from 'react-dropzone';\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport ColorRecommendations from './ColorRecommendations.tsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ColorAnalyzer = () => {\n  _s();\n  const [image, setImage] = useState(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [colorPalette, setColorPalette] = useState(null);\n  const [error, setError] = useState(null);\n  const handleRemoveImage = useCallback(() => {\n    setImage(null);\n    setColorPalette(null);\n    setError(null);\n  }, []);\n  const rgbToHsl = useCallback((r, g, b) => {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    const max = Math.max(r, g, b);\n    const min = Math.min(r, g, b);\n    let h = 0;\n    let s = 0;\n    const l = (max + min) / 2;\n    if (max !== min) {\n      const d = max - min;\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n      switch (max) {\n        case r:\n          h = (g - b) / d + (g < b ? 6 : 0);\n          break;\n        case g:\n          h = (b - r) / d + 2;\n          break;\n        case b:\n          h = (r - g) / d + 4;\n          break;\n      }\n      h /= 6;\n    }\n    return {\n      h: h * 360,\n      s: s * 100,\n      l: l * 100\n    };\n  }, []);\n  const rgbToHex = useCallback((r, g, b) => {\n    return '#' + [r, g, b].map(x => {\n      const hex = x.toString(16);\n      return hex.length === 1 ? '0' + hex : hex;\n    }).join('');\n  }, []);\n  const getColorName = useCallback((h, s, l) => {\n    if (l < 20) return 'Black';\n    if (l > 80) return 'White';\n    if (s < 20) return l > 50 ? 'Light Gray' : 'Dark Gray';\n    const hue = h;\n    if (hue >= 0 && hue < 30) return 'Red';\n    if (hue >= 30 && hue < 60) return 'Orange';\n    if (hue >= 60 && hue < 90) return 'Yellow';\n    if (hue >= 90 && hue < 150) return 'Green';\n    if (hue >= 150 && hue < 210) return 'Cyan';\n    if (hue >= 210 && hue < 270) return 'Blue';\n    if (hue >= 270 && hue < 330) return 'Purple';\n    return 'Red';\n  }, []);\n  const determineUndertone = useCallback(dominantHues => {\n    const avgHue = dominantHues.reduce((a, b) => a + b, 0) / dominantHues.length;\n    return avgHue < 180 ? 'Warm' : 'Cool';\n  }, []);\n  const determineSeasonType = useCallback((undertone, brightness, saturation) => {\n    if (undertone === 'Warm') {\n      return brightness > 50 ? saturation > 50 ? 'Spring' : 'Spring-Summer' : saturation > 50 ? 'Autumn' : 'Autumn-Winter';\n    } else {\n      return brightness > 50 ? saturation > 50 ? 'Summer' : 'Spring-Summer' : saturation > 50 ? 'Winter' : 'Autumn-Winter';\n    }\n  }, []);\n  const hslToRgb = useCallback((h, s, l) => {\n    let r, g, b;\n    if (s === 0) {\n      r = g = b = l;\n    } else {\n      const hue2rgb = (p, q, t) => {\n        if (t < 0) t += 1;\n        if (t > 1) t -= 1;\n        if (t < 1 / 6) return p + (q - p) * 6 * t;\n        if (t < 1 / 2) return q;\n        if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n        return p;\n      };\n      const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n      const p = 2 * l - q;\n      r = hue2rgb(p, q, h + 1 / 3);\n      g = hue2rgb(p, q, h);\n      b = hue2rgb(p, q, h - 1 / 3);\n    }\n    return [r, g, b];\n  }, []);\n  const generateHarmonizedPalette = useCallback((baseHue, undertone) => {\n    const palette = [];\n    const hueStep = undertone === 'Warm' ? 30 : 45;\n    for (let i = 0; i < 5; i++) {\n      const hue = (baseHue + i * hueStep) % 360;\n      const saturation = 65 + Math.random() * 20;\n      const lightness = 45 + Math.random() * 25;\n      const [r, g, b] = hslToRgb(hue / 360, saturation / 100, lightness / 100);\n      palette.push(rgbToHex(Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)));\n    }\n    return palette;\n  }, [hslToRgb, rgbToHex]);\n  const hexToRgb = useCallback(hex => {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16)\n    } : null;\n  }, []);\n  const getColorDescription = useCallback((index, undertone) => {\n    const descriptions = ['Perfect for statement pieces and focal points', 'Great for accessories and accent pieces', 'Ideal for layering and combining outfits', 'Excellent for seasonal transitions', 'Works well for everyday basics'];\n    return descriptions[index];\n  }, []);\n  const getMakeupDescription = useCallback((index, undertone) => {\n    const descriptions = ['Perfect for bold lip colors', 'Ideal for eye shadows and liners', 'Great for blush and cheek colors', 'Suitable for highlighters and bronzers', 'Works well for natural everyday looks'];\n    return descriptions[index];\n  }, []);\n  const onDrop = useCallback(acceptedFiles => {\n    const file = acceptedFiles[0];\n    const reader = new FileReader();\n    reader.onload = async () => {\n      const dataUrl = reader.result;\n      setImage(dataUrl);\n      setIsAnalyzing(true);\n      setError(null);\n      let canvas = null;\n      try {\n        const img = new Image();\n        img.src = dataUrl;\n        await new Promise((resolve, reject) => {\n          img.onload = resolve;\n          img.onerror = () => reject(new Error('Failed to load image'));\n        });\n        canvas = document.createElement('canvas');\n        canvas.width = img.width;\n        canvas.height = img.height;\n        const ctx = canvas.getContext('2d');\n        if (!ctx) {\n          throw new Error('Failed to get canvas context');\n        }\n        ctx.drawImage(img, 0, 0);\n        const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        const pixels = [];\n\n        // Sample every 4th pixel for better performance\n        for (let i = 0; i < imageData.data.length; i += 16) {\n          pixels.push({\n            r: imageData.data[i],\n            g: imageData.data[i + 1],\n            b: imageData.data[i + 2]\n          });\n        }\n\n        // Calculate average brightness and saturation\n        let totalBrightness = 0;\n        let totalSaturation = 0;\n        const dominantHues = [];\n        pixels.forEach(pixel => {\n          const hsl = rgbToHsl(pixel.r, pixel.g, pixel.b);\n          totalBrightness += hsl.l;\n          totalSaturation += hsl.s;\n          dominantHues.push(hsl.h);\n        });\n        const avgBrightness = totalBrightness / pixels.length;\n        const avgSaturation = totalSaturation / pixels.length;\n        const undertone = determineUndertone(dominantHues);\n        const seasonType = determineSeasonType(undertone, avgBrightness, avgSaturation);\n\n        // Generate color palettes\n        const baseHue = dominantHues.reduce((a, b) => a + b, 0) / dominantHues.length;\n        const clothingColors = generateHarmonizedPalette(baseHue, undertone);\n        const makeupColors = generateHarmonizedPalette((baseHue + 180) % 360, undertone);\n        const palette = {\n          undertone,\n          seasonType,\n          clothing: clothingColors.map((color, index) => {\n            const rgb = hexToRgb(color) || {\n              r: 0,\n              g: 0,\n              b: 0\n            };\n            const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);\n            return {\n              color,\n              name: getColorName(hsl.h, hsl.s, hsl.l),\n              description: getColorDescription(index, undertone)\n            };\n          }),\n          makeup: makeupColors.map((color, index) => {\n            const rgb = hexToRgb(color) || {\n              r: 0,\n              g: 0,\n              b: 0\n            };\n            const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);\n            return {\n              color,\n              name: getColorName(hsl.h, hsl.s, hsl.l),\n              description: getMakeupDescription(index, undertone)\n            };\n          })\n        };\n        setColorPalette(palette);\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : 'An unknown error occurred';\n        setError(errorMessage);\n        console.error('Error analyzing image:', error);\n      } finally {\n        setIsAnalyzing(false);\n        if (canvas) {\n          // Clean up canvas\n          canvas.width = 0;\n          canvas.height = 0;\n        }\n      }\n    };\n    reader.readAsDataURL(file);\n  }, [rgbToHsl, determineUndertone, determineSeasonType, generateHarmonizedPalette, hexToRgb, getColorName, getColorDescription, getMakeupDescription]);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop,\n    accept: {\n      'image/*': ['.jpeg', '.jpg', '.png']\n    },\n    multiple: false\n  });\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      minHeight: '100vh',\n      py: 4\n    },\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: '100%',\n        maxWidth: 1200,\n        mx: 'auto',\n        p: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h2\",\n        align: \"center\",\n        sx: {\n          mb: 1\n        },\n        children: \"MyHues\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        align: \"center\",\n        sx: {\n          mb: 6,\n          color: 'text.secondary',\n          maxWidth: 600,\n          mx: 'auto'\n        },\n        children: \"Discover your perfect color palette with AI-powered personalization\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mb: 4\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 11\n      }, this), !image && /*#__PURE__*/_jsxDEV(Paper, {\n        ...getRootProps(),\n        sx: {\n          p: 8,\n          mb: 4,\n          textAlign: 'center',\n          cursor: 'pointer',\n          transition: 'all 0.3s ease',\n          '&:hover': {\n            transform: 'translateY(-4px)',\n            boxShadow: theme => `0 12px 40px ${theme.palette.primary.main}25`\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          ...getInputProps()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CloudUploadIcon, {\n          sx: {\n            fontSize: 48,\n            mb: 2,\n            color: 'primary.main'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          color: \"text.primary\",\n          gutterBottom: true,\n          children: isDragActive ? 'Drop your photo here...' : 'Upload a photo of yourself'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          color: \"text.secondary\",\n          children: isDragActive ? 'Let the magic begin!' : 'We\\'ll analyze your skin tone and create personalized color recommendations'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 11\n      }, this), isAnalyzing && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          my: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 60,\n          thickness: 4,\n          sx: {\n            mb: 3\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          color: \"text.secondary\",\n          children: \"Analyzing your colors and creating personalized recommendations...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 11\n      }, this), image && !isAnalyzing && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          flexDirection: {\n            xs: 'column',\n            md: 'row'\n          },\n          gap: 4,\n          alignItems: 'flex-start',\n          mt: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            flex: 1,\n            maxWidth: {\n              md: '50%'\n            },\n            position: 'relative',\n            '&:hover .remove-button': {\n              opacity: 1\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: handleRemoveImage,\n            className: \"remove-button\",\n            sx: {\n              position: 'absolute',\n              top: 8,\n              right: 8,\n              backgroundColor: 'rgba(0,0,0,0.6)',\n              backdropFilter: 'blur(4px)',\n              opacity: 0,\n              transition: 'opacity 0.2s ease',\n              '&:hover': {\n                backgroundColor: 'rgba(0,0,0,0.8)'\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(ClearIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            component: \"img\",\n            src: image,\n            alt: \"Uploaded\",\n            sx: {\n              width: '100%',\n              height: 'auto',\n              borderRadius: 3,\n              boxShadow: theme => `0 8px 32px ${theme.palette.primary.main}15`,\n              maxHeight: '50vh',\n              objectFit: 'contain'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            flex: 1,\n            maxWidth: {\n              md: '50%'\n            }\n          },\n          children: colorPalette && /*#__PURE__*/_jsxDEV(ColorRecommendations, {\n            palette: colorPalette\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 32\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 314,\n    columnNumber: 5\n  }, this);\n};\n_s(ColorAnalyzer, \"kqF5iC/vyOQfZ8zSWtczAqXJFH0=\", false, function () {\n  return [useDropzone];\n});\n_c = ColorAnalyzer;\nexport default ColorAnalyzer;\nvar _c;\n$RefreshReg$(_c, \"ColorAnalyzer\");","map":{"version":3,"names":["React","useState","useCallback","Box","Typography","Paper","CircularProgress","IconButton","Alert","useDropzone","CloudUploadIcon","ClearIcon","ColorRecommendations","jsxDEV","_jsxDEV","ColorAnalyzer","_s","image","setImage","isAnalyzing","setIsAnalyzing","colorPalette","setColorPalette","error","setError","handleRemoveImage","rgbToHsl","r","g","b","max","Math","min","h","s","l","d","rgbToHex","map","x","hex","toString","length","join","getColorName","hue","determineUndertone","dominantHues","avgHue","reduce","a","determineSeasonType","undertone","brightness","saturation","hslToRgb","hue2rgb","p","q","t","generateHarmonizedPalette","baseHue","palette","hueStep","i","random","lightness","push","round","hexToRgb","result","exec","parseInt","getColorDescription","index","descriptions","getMakeupDescription","onDrop","acceptedFiles","file","reader","FileReader","onload","dataUrl","canvas","img","Image","src","Promise","resolve","reject","onerror","Error","document","createElement","width","height","ctx","getContext","drawImage","imageData","getImageData","pixels","data","totalBrightness","totalSaturation","forEach","pixel","hsl","avgBrightness","avgSaturation","seasonType","clothingColors","makeupColors","clothing","color","rgb","name","description","makeup","errorMessage","message","console","readAsDataURL","getRootProps","getInputProps","isDragActive","accept","multiple","sx","display","flexDirection","alignItems","justifyContent","minHeight","py","children","maxWidth","mx","variant","align","mb","fileName","_jsxFileName","lineNumber","columnNumber","severity","textAlign","cursor","transition","transform","boxShadow","theme","primary","main","fontSize","gutterBottom","my","size","thickness","xs","md","gap","mt","flex","position","opacity","onClick","className","top","right","backgroundColor","backdropFilter","component","alt","borderRadius","maxHeight","objectFit","_c","$RefreshReg$"],"sources":["/home/user/color-advisor/src/components/ColorAnalyzer.tsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport { Box, Typography, Paper, CircularProgress, IconButton, Alert } from '@mui/material';\nimport { useDropzone } from 'react-dropzone';\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport ColorRecommendations from './ColorRecommendations.tsx';\n\ninterface ColorPalette {\n  clothing: Array<{\n    color: string;\n    name: string;\n    description: string;\n  }>;\n  makeup: Array<{\n    color: string;\n    name: string;\n    description: string;\n  }>;\n  seasonType: string;\n  undertone: string;\n}\n\ninterface RGB {\n  r: number;\n  g: number;\n  b: number;\n}\n\ninterface HSL {\n  h: number;\n  s: number;\n  l: number;\n}\n\nconst ColorAnalyzer: React.FC = () => {\n  const [image, setImage] = useState<string | null>(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [colorPalette, setColorPalette] = useState<ColorPalette | null>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleRemoveImage = useCallback(() => {\n    setImage(null);\n    setColorPalette(null);\n    setError(null);\n  }, []);\n\n  const rgbToHsl = useCallback((r: number, g: number, b: number): HSL => {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n\n    const max = Math.max(r, g, b);\n    const min = Math.min(r, g, b);\n    let h = 0;\n    let s = 0;\n    const l = (max + min) / 2;\n\n    if (max !== min) {\n      const d = max - min;\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n      switch (max) {\n        case r:\n          h = (g - b) / d + (g < b ? 6 : 0);\n          break;\n        case g:\n          h = (b - r) / d + 2;\n          break;\n        case b:\n          h = (r - g) / d + 4;\n          break;\n      }\n\n      h /= 6;\n    }\n\n    return { h: h * 360, s: s * 100, l: l * 100 };\n  }, []);\n\n  const rgbToHex = useCallback((r: number, g: number, b: number): string => {\n    return '#' + [r, g, b].map(x => {\n      const hex = x.toString(16);\n      return hex.length === 1 ? '0' + hex : hex;\n    }).join('');\n  }, []);\n\n  const getColorName = useCallback((h: number, s: number, l: number): string => {\n    if (l < 20) return 'Black';\n    if (l > 80) return 'White';\n    if (s < 20) return l > 50 ? 'Light Gray' : 'Dark Gray';\n\n    const hue = h;\n    if (hue >= 0 && hue < 30) return 'Red';\n    if (hue >= 30 && hue < 60) return 'Orange';\n    if (hue >= 60 && hue < 90) return 'Yellow';\n    if (hue >= 90 && hue < 150) return 'Green';\n    if (hue >= 150 && hue < 210) return 'Cyan';\n    if (hue >= 210 && hue < 270) return 'Blue';\n    if (hue >= 270 && hue < 330) return 'Purple';\n    return 'Red';\n  }, []);\n\n  const determineUndertone = useCallback((dominantHues: number[]): string => {\n    const avgHue = dominantHues.reduce((a, b) => a + b, 0) / dominantHues.length;\n    return avgHue < 180 ? 'Warm' : 'Cool';\n  }, []);\n\n  const determineSeasonType = useCallback((undertone: string, brightness: number, saturation: number): string => {\n    if (undertone === 'Warm') {\n      return brightness > 50\n        ? saturation > 50 ? 'Spring' : 'Spring-Summer'\n        : saturation > 50 ? 'Autumn' : 'Autumn-Winter';\n    } else {\n      return brightness > 50\n        ? saturation > 50 ? 'Summer' : 'Spring-Summer'\n        : saturation > 50 ? 'Winter' : 'Autumn-Winter';\n    }\n  }, []);\n\n  const hslToRgb = useCallback((h: number, s: number, l: number): [number, number, number] => {\n    let r, g, b;\n\n    if (s === 0) {\n      r = g = b = l;\n    } else {\n      const hue2rgb = (p: number, q: number, t: number) => {\n        if (t < 0) t += 1;\n        if (t > 1) t -= 1;\n        if (t < 1/6) return p + (q - p) * 6 * t;\n        if (t < 1/2) return q;\n        if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n      };\n\n      const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n      const p = 2 * l - q;\n      r = hue2rgb(p, q, h + 1/3);\n      g = hue2rgb(p, q, h);\n      b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return [r, g, b];\n  }, []);\n\n  const generateHarmonizedPalette = useCallback((baseHue: number, undertone: string): string[] => {\n    const palette: string[] = [];\n    const hueStep = undertone === 'Warm' ? 30 : 45;\n    \n    for (let i = 0; i < 5; i++) {\n      const hue = (baseHue + i * hueStep) % 360;\n      const saturation = 65 + Math.random() * 20;\n      const lightness = 45 + Math.random() * 25;\n      \n      const [r, g, b] = hslToRgb(hue / 360, saturation / 100, lightness / 100);\n      palette.push(rgbToHex(Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)));\n    }\n    \n    return palette;\n  }, [hslToRgb, rgbToHex]);\n\n  const hexToRgb = useCallback((hex: string): RGB | null => {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16)\n    } : null;\n  }, []);\n\n  const getColorDescription = useCallback((index: number, undertone: string): string => {\n    const descriptions = [\n      'Perfect for statement pieces and focal points',\n      'Great for accessories and accent pieces',\n      'Ideal for layering and combining outfits',\n      'Excellent for seasonal transitions',\n      'Works well for everyday basics'\n    ];\n    return descriptions[index];\n  }, []);\n\n  const getMakeupDescription = useCallback((index: number, undertone: string): string => {\n    const descriptions = [\n      'Perfect for bold lip colors',\n      'Ideal for eye shadows and liners',\n      'Great for blush and cheek colors',\n      'Suitable for highlighters and bronzers',\n      'Works well for natural everyday looks'\n    ];\n    return descriptions[index];\n  }, []);\n\n  const onDrop = useCallback((acceptedFiles: File[]) => {\n    const file = acceptedFiles[0];\n    const reader = new FileReader();\n    \n    reader.onload = async () => {\n      const dataUrl = reader.result as string;\n      setImage(dataUrl);\n      \n      setIsAnalyzing(true);\n      setError(null);\n      let canvas: HTMLCanvasElement | null = null;\n\n      try {\n        const img = new Image();\n        img.src = dataUrl;\n        await new Promise((resolve, reject) => {\n          img.onload = resolve;\n          img.onerror = () => reject(new Error('Failed to load image'));\n        });\n\n        canvas = document.createElement('canvas');\n        canvas.width = img.width;\n        canvas.height = img.height;\n        \n        const ctx = canvas.getContext('2d');\n        if (!ctx) {\n          throw new Error('Failed to get canvas context');\n        }\n\n        ctx.drawImage(img, 0, 0);\n        const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        const pixels: RGB[] = [];\n\n        // Sample every 4th pixel for better performance\n        for (let i = 0; i < imageData.data.length; i += 16) {\n          pixels.push({\n            r: imageData.data[i],\n            g: imageData.data[i + 1],\n            b: imageData.data[i + 2],\n          });\n        }\n\n        // Calculate average brightness and saturation\n        let totalBrightness = 0;\n        let totalSaturation = 0;\n        const dominantHues: number[] = [];\n\n        pixels.forEach(pixel => {\n          const hsl = rgbToHsl(pixel.r, pixel.g, pixel.b);\n          totalBrightness += hsl.l;\n          totalSaturation += hsl.s;\n          dominantHues.push(hsl.h);\n        });\n\n        const avgBrightness = totalBrightness / pixels.length;\n        const avgSaturation = totalSaturation / pixels.length;\n        const undertone = determineUndertone(dominantHues);\n        const seasonType = determineSeasonType(undertone, avgBrightness, avgSaturation);\n\n        // Generate color palettes\n        const baseHue = dominantHues.reduce((a, b) => a + b, 0) / dominantHues.length;\n        const clothingColors = generateHarmonizedPalette(baseHue, undertone);\n        const makeupColors = generateHarmonizedPalette((baseHue + 180) % 360, undertone);\n\n        const palette: ColorPalette = {\n          undertone,\n          seasonType,\n          clothing: clothingColors.map((color, index) => {\n            const rgb = hexToRgb(color) || { r: 0, g: 0, b: 0 };\n            const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);\n            return {\n              color,\n              name: getColorName(hsl.h, hsl.s, hsl.l),\n              description: getColorDescription(index, undertone),\n            };\n          }),\n          makeup: makeupColors.map((color, index) => {\n            const rgb = hexToRgb(color) || { r: 0, g: 0, b: 0 };\n            const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);\n            return {\n              color,\n              name: getColorName(hsl.h, hsl.s, hsl.l),\n              description: getMakeupDescription(index, undertone),\n            };\n          }),\n        };\n\n        setColorPalette(palette);\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : 'An unknown error occurred';\n        setError(errorMessage);\n        console.error('Error analyzing image:', error);\n      } finally {\n        setIsAnalyzing(false);\n        if (canvas) {\n          // Clean up canvas\n          canvas.width = 0;\n          canvas.height = 0;\n        }\n      }\n    };\n    reader.readAsDataURL(file);\n  }, [\n    rgbToHsl,\n    determineUndertone,\n    determineSeasonType,\n    generateHarmonizedPalette,\n    hexToRgb,\n    getColorName,\n    getColorDescription,\n    getMakeupDescription\n  ]);\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop,\n    accept: {\n      'image/*': ['.jpeg', '.jpg', '.png']\n    },\n    multiple: false,\n  });\n\n  return (\n    <Box sx={{\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      minHeight: '100vh',\n      py: 4,\n    }}>\n      <Box sx={{ width: '100%', maxWidth: 1200, mx: 'auto', p: 3 }}>\n        <Typography variant=\"h2\" align=\"center\" sx={{ mb: 1 }}>\n          MyHues\n        </Typography>\n        <Typography \n          variant=\"h6\" \n          align=\"center\" \n          sx={{ \n            mb: 6, \n            color: 'text.secondary',\n            maxWidth: 600,\n            mx: 'auto',\n          }}\n        >\n          Discover your perfect color palette with AI-powered personalization\n        </Typography>\n\n        {error && (\n          <Alert severity=\"error\" sx={{ mb: 4 }}>\n            {error}\n          </Alert>\n        )}\n        \n        {!image && (\n          <Paper\n            {...getRootProps()}\n            sx={{\n              p: 8,\n              mb: 4,\n              textAlign: 'center',\n              cursor: 'pointer',\n              transition: 'all 0.3s ease',\n              '&:hover': {\n                transform: 'translateY(-4px)',\n                boxShadow: (theme) => `0 12px 40px ${theme.palette.primary.main}25`,\n              },\n            }}\n          >\n            <input {...getInputProps()} />\n            <CloudUploadIcon sx={{ fontSize: 48, mb: 2, color: 'primary.main' }} />\n            <Typography variant=\"h6\" color=\"text.primary\" gutterBottom>\n              {isDragActive ? 'Drop your photo here...' : 'Upload a photo of yourself'}\n            </Typography>\n            <Typography variant=\"body1\" color=\"text.secondary\">\n              {isDragActive\n                ? 'Let the magic begin!'\n                : 'We\\'ll analyze your skin tone and create personalized color recommendations'}\n            </Typography>\n          </Paper>\n        )}\n\n        {isAnalyzing && (\n          <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', my: 8 }}>\n            <CircularProgress size={60} thickness={4} sx={{ mb: 3 }} />\n            <Typography variant=\"h6\" color=\"text.secondary\">\n              Analyzing your colors and creating personalized recommendations...\n            </Typography>\n          </Box>\n        )}\n\n        {image && !isAnalyzing && (\n          <Box sx={{ \n            display: 'flex', \n            flexDirection: { xs: 'column', md: 'row' }, \n            gap: 4, \n            alignItems: 'flex-start',\n            mt: 4\n          }}>\n            <Box \n              sx={{ \n                flex: 1, \n                maxWidth: { md: '50%' },\n                position: 'relative',\n                '&:hover .remove-button': {\n                  opacity: 1,\n                },\n              }}\n            >\n              <IconButton\n                onClick={handleRemoveImage}\n                className=\"remove-button\"\n                sx={{\n                  position: 'absolute',\n                  top: 8,\n                  right: 8,\n                  backgroundColor: 'rgba(0,0,0,0.6)',\n                  backdropFilter: 'blur(4px)',\n                  opacity: 0,\n                  transition: 'opacity 0.2s ease',\n                  '&:hover': {\n                    backgroundColor: 'rgba(0,0,0,0.8)',\n                  },\n                }}\n              >\n                <ClearIcon />\n              </IconButton>\n              <Box\n                component=\"img\"\n                src={image}\n                alt=\"Uploaded\"\n                sx={{\n                  width: '100%',\n                  height: 'auto',\n                  borderRadius: 3,\n                  boxShadow: (theme) => `0 8px 32px ${theme.palette.primary.main}15`,\n                  maxHeight: '50vh',\n                  objectFit: 'contain'\n                }}\n              />\n            </Box>\n            <Box sx={{ flex: 1, maxWidth: { md: '50%' } }}>\n              {colorPalette && <ColorRecommendations palette={colorPalette} />}\n            </Box>\n          </Box>\n        )}\n      </Box>\n    </Box>\n  );\n};\n\nexport default ColorAnalyzer; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}